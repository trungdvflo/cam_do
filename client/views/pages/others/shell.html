<div class="row" ng-controller="shellCnt as ctrl">
    <div class="col-lg-12">
        <div class="card border-top-0">
            <div class="card-header">
                <span class="col-6 text-truncate float-left"><i class="fa fa-terminal"></i> Shell Schedule</span>
                <span class="float-right mr-1">
                    <span class="bg-success" ng-show="is_shells_run">
                        Đang chạy...
                        <button class="btn btn-primary" ng-click="btnStopFn()">Tạm dừng</button>
                    </span>
                    <span class="bg-secondary" ng-show="!is_shells_run">
                        Đang tạm dừng.
                        <button class="btn btn-primary" ng-click="btnRunFn()">Chạy</button>
                    </span>
                </span>
            </div>
            <div class="card-block">
                <div class="col px-0" permission="human_resource_manage">
                    <div class="btn-group">
                        <button class="btn btn-primary btn-sm" ng-click="showShellFormFn($event, {repeat:1, repeat_type:'day', status:'pause'})"><i class="fa fa-plus"></i> Thêm  </button>
                        <button type="button" ng-disabled="!hasSelected" class="btn btn-warning btn-sm" title="Sửa" ng-click="showShellFormFn($event, value, key)"><i class="icon-pencil icons"></i> Sửa</button>
                        <button type="button" ng-disabled="!hasSelected" class="btn btn-danger btn-sm" title="Xóa" ng-click="showShellFormFn($event, value, key)"><i class="icon-pencil icons"></i> Xóa</button>
                    </div>
                    <div class="btn-group">
                        <button type="button" ng-disabled="!hasSelected" class="btn btn-default btn-sm" title="Dừng" ng-click="showShellFormFn($event, value, key)"><i class="icon-control-pause icons"></i> Dừng</button>
                        <button type="button" ng-disabled="!hasSelected" class="btn btn-primary btn-sm" title="Kích hoạt" ng-click="showShellFormFn($event, value, key)"><i class="icon-control-play icons"></i> Kích hoạt</button>
                        <button type="button" ng-disabled="!hasSelected" class="btn btn-success btn-sm" title="Chạy ngay" ng-click="showShellFormFn($event, value, key)"><i class="icon-arrow-right-circle icons"></i> Chạy ngay</button>
                    </div>
                </div>
                <div id="printDiv" class="table-responsive">
                    <table id="user-tb" class="table table-hover table-outline">
                        <thead class="thead-default">
                            <tr>
                                <th>#</th>
                                <th class="text-center"><input type="checkbox" ng-model="selecteAll" ng-click="selectAllShellFn($event)" /></th>
                                <th>Shell/Action</th>
                                <th>Mô tả</th>
                                <th>Tham số</th>
                                <th>Thời gian chạy</th>
                                <th>Lặp lại</th>
                                <th>Trạng thái</th>
                                <th>Kết quả</th>
                            </tr>
                        </thead>
                        <tbody class="table-sm">
                            <tr ng-repeat="(key, value) in data_list">
                                <td class="text-right">{{$index + 1}}</td>
                                <td class="text-center"><input type="checkbox" ng-model="value.selected" ng-click="selectShellFn($event, value)" /></td>
                                <td>{{value.shell}}/{{value.method}}</td>
                                <td>{{value.description}}</td>
                                <td>{{value.params}}</td>
                                <td nowrap>
                                    <span class="countdown_time text-right" title="{{value.run_time}}">{{value.run_time}}</span>
                                </td>
                                <td nowrap>{{value.repeat}} 
                                    <span ng-if="value.repeat_type=='second'">giây</span>
                                    <span ng-if="value.repeat_type=='minute'">phút</span>
                                    <span ng-if="value.repeat_type=='hour'">giờ</span>
                                    <span ng-if="value.repeat_type=='day'">ngày</span>
                                    <span ng-if="value.repeat_type=='week'">tuần</span>
                                    <span ng-if="value.repeat_type=='month'">tháng</span>
                                    <span ng-if="value.repeat_type=='year'">năm</span>
                                </td>
                                <td nowrap>
                                    <span ng-if="value.status=='active'" class="badge badge-pill badge-success p-1">kích hoạt</span>
                                    <span ng-if="value.status=='pause'" class="badge badge-pill badge-warning p-1">tạm dừng</span>
                                    <span ng-if="value.status=='delete'" class="badge badge-pill badge-danger p-1">xóa</span>
                                </td>
                                <td>{{value.result_text}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <!--/.col-->
</div>